{% extends 'base.html' %}


{% block content %}

{% include 'includes/navbar.html' %}


<section class="section-conten padding-y" style="min-height:84vh">

    <!-- ============================ COMPONENT LOGIN   ================================= -->
        <div class="card mx-auto" style="max-width: 380px; margin-top:100px;">
          <div class="card-body">
          <h4 class="card-title mb-4">Sign in</h4>
          <form action={% url 'login' %} method='POST'>

            {% csrf_token %}
             
            <div class="form-group">
                 <input type="email" class="form-control" placeholder="Email" name='email' required>
              </div> 
              <div class="form-group">
                <input type="password" class="form-control" placeholder="Password" name='password' required>
              </div> 

              <div class="form-group col-md-6">
                {% for message in messages %}
                    {% if message.tags == "success" %}
                        <div class="text-success alert alert-success font-weight-bold" role="alert" id="message-alert">{{message}}</div>
                    {% endif %}
                    {% if message.tags == "error" %}
                        <div class="text-danger alert alert-danger font-weight-bold" role="alert" id="message-alert">{{message}}</div>
                    {% endif %}
                {% endfor %}
            </div>


              <div class="form-group">
                  <a href="{% url 'forgotpassword' %}" class="float-right">Forgot password?</a> 

              </div> 
              <div class="form-group">
                  <button type="submit" class="btn btn-primary btn-block btn-dark"> Login  </button>
              </div>    
          </form>
          </div> 
        </div> 

        

         <p class="text-center mt-4">Don't have account? <a href="{% url 'registration' %}">Sign up</a></p>
         <br><br>
</section>


    
    <script>
        setTimeout(function() {
            var messageAlerts = document.querySelectorAll('#message-alert');
            if (messageAlerts) {
                messageAlerts.forEach(function(alert) {
                    alert.style.display = 'none';
                });
            }
        }, 8000);
    </script>
    
{% endblock %}
